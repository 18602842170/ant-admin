<div *ngIf="pageReady" style="margin:24px; min-height: 735px;">
  <nz-card class="card_margin">
    <ng-template #body>
      <div nz-col [nzSpan]="16" [nzOffset]="'4'">

        <!--<div nz-form-item nz-row>
              <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                <label for="title">用户名</label>
              </div>
              <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
                 <label>{{userForm.value.user_name}}</label>
              </div>-->
        <!-- <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback *ngIf="userForm.controls.title.status !='VALID'">
                    <label >请输入用户名</label>
              </div> -->
        <!--</div>-->
        <div nz-form>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>用户名</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input style="width:75%" [nzPlaceHolder]="'请输入'" [nzSize]="'large'" [(ngModel)]="data.user_name"
                [nzDisabled]="data.id">
              </nz-input>
              <div nz-form-explain *ngIf="data.nameError">请输入用户名</div>
              <div nz-form-explain *ngIf="data.userNameExistEoor">该用户名已存在</div>
              <div nz-form-explain *ngIf="data.nameinputError">用户名只能输入英文、数字</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>手机号码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input style="width:75%" [nzPlaceHolder]="'请输入'" [nzSize]="'large'" [(ngModel)]="data.phone_number"></nz-input>
              <div nz-form-explain *ngIf="data.phoneNumBerError">请输入手机号码</div>
              <div nz-form-explain *ngIf="data.existEoor">该手机号码已存在</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>姓名</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input style="width:75%" [nzPlaceHolder]="'请输入'" [nzSize]="'large'" [(ngModel)]="data.nikeName">
              </nz-input>
              <div nz-form-explain *ngIf="data.nikeNameError">请输入姓名</div>

            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>角色</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-select style="width: 75%;" [(ngModel)]="data.roleId" [nzSize]="'large'" [nzPlaceHolder]="'请选择'" *ngIf='noEdit'>
                <nz-option *ngFor="let pre of presult" [nzLabel]="pre.name" [nzValue]="pre.id"></nz-option>
              </nz-select>
              <nz-select style="width: 75%;" [(ngModel)]="data.roleId" [nzSize]="'large'" [nzPlaceHolder]="'请选择'"
                disabled *ngIf='isEdit'>
                <nz-option *ngFor="let pre of presult" [nzLabel]="pre.name" [nzValue]="pre.id"></nz-option>
              </nz-select>
              <div nz-form-explain *ngIf="data.roleError">请选择角色</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>用户分类</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <span  *ngIf='noEdit'>
                <nz-select style="width:75%;" [(ngModel)]="data.userType" [nzSize]="'large'" [nzPlaceHolder]="'请选择'"
                *ngIf="data.roleId=='3'|| data.roleId=='0'">  
                  <nz-option *ngFor="let pre of userTypeList" [nzLabel]="pre.name" [nzValue]="pre.value"></nz-option>
                </nz-select>
                <nz-select style="width:75%;" [(ngModel)]="data.userType" [nzSize]="'large'" [nzPlaceHolder]="'请选择'" disabled
                *ngIf="data.roleId=='4'">  
                   <nz-option [nzLabel]="" [nzValue]="0" ></nz-option>
                </nz-select>
              </span>
              <nz-select style="width:75%;" [(ngModel)]="data.userType" [nzSize]="'large'" [nzPlaceHolder]="'请选择'"
                disabled *ngIf='isEdit'>
                <nz-option *ngFor="let pre of userTypeList" [nzLabel]="pre.name" [nzValue]="pre.value"></nz-option>
              </nz-select>
              <div nz-form-explain *ngIf="data.typeError">请选择用户分类</div>
            </div>
          </div>
          <!-- <div nz-form-item nz-row>
                <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                  <label for="title" nz-form-item-required>部门</label>
                </div>
                <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
                    <nz-select style="width: 320px;"  [(ngModel)]="data.deptId"    [nzSize]="'large'" [nzPlaceHolder]="'请选择'" >
                        <nz-option *ngFor="let pre of deptResult" [nzLabel]="pre.deptName" [nzValue]="pre.id"></nz-option>
                    </nz-select>
                    <div nz-form-explain *ngIf="data.deptError">请选择部门</div>
                </div>
            </div> -->
          <div *ngIf="isNewCreat" nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input style="width:75%;" [nzPlaceHolder]="'密码'" [nzSize]="'large'" [(ngModel)]="data.password"></nz-input>
            </div>
          </div>

          <div *ngIf="isNewCreat" nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="title" nz-form-item-required>确认密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input style="width:75%;" [nzPlaceHolder]="'确认密码'" [nzSize]="'large'" [(ngModel)]="data.checkPassword"></nz-input>
              <div nz-form-explain *ngIf="data.passwordEoor">两次输入密码不一致</div>
            </div>
          </div>

          <div nz-form-item nz-row>
            <div nz-form-explain style="margin-top:30px;margin-left: 40%">
              <button nz-button [nzType]="'primary'" (click)="submit()">
                <span>提交</span>
              </button>
              <button nz-button [nzType]="'default'" (click)="cancel()">
                <span>取消</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </nz-card>
</div>
